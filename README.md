# <img style="max-height: 40px;" height="40px" src="http://geteal.com/img/ealbrand.png" alt="ealbrand"><span class="span_brand">AL</span>
Easy to learn Easy to use scripting language EAL (Easy application language)<br>
http://www.geteal.com - licence and documentation<br>
ealbuild_fb_ssl_incl.zip - distributive for Windows 64bit, including firebird and openssl librarys<br>
Credentials:
Author and developer: Andrey Fedorov
<br>
Специальные функции
isVar(variable) – если переменная была объявлена раннее то возвращает 1, в противном случае 0.
free(var1) — удалить из памяти переменную var1.
gfree(var1) – удалить из памяти переменную объявленную вне функций.
sleep(var1) — пауза на var1 миллисекунд
ESGetOs() - возвращает строку с текущей операционной системой windows или linux
ESGetEalLocation() — возвращает строку с адресом где находится eal.exe
ESRaiseError(var1) — прерывание исполнения скрипта с ошибкой var1 
ESChr(var1) – возвращает символ соответствующий ASCII таблице. Var1 числовое значение
ESOrd(var1) — возвращает числовое значение соответствующее ASCII символу. Var1 символ

Специальные серверные функции
ESTse(var1) – исполнение скрипта в безопасном режиме, очередь последовательного исполнения. Функция доступна в серверном режиме.
sout(var1) – используется в серверном режиме, для отложенной записи лога.
ESCash(var1) — возвращает результат выполнения функции Cashout, если был указан параметр cash в настройках сервера.
ESSockRecv() – возвращает полученную строку от клиента. Если используется без инициализации сервера, то возвращает полученную строку со stdin. 
ESSockSend(var1) – отправить строку в var1 клиенту. Если не в серверном режиме, то в stdout.
ESSockSendData(var1) – отправить данные в var1 клиенту. Если не в серверном режиме, то в stdout.
ESSockRecvData(var1) – возвращает данные полученные от клиента. Var1 – размер получаемых данных.

Математические функции
ESMd5(var1) — возвращает строку с вычисленным хешем md5. Var1 – данные для вычисления хеша.
ESRandomize() - инициализация генератора случайных чисел. Применяется перед использованием RandomRange; 
ESRandomRange(var1,var2) — возвращает случайное численное значение в диапазоне от var1 до var2, не включая var2. Требует инициализации вызовом ESRandomize();

Командная строка
ESRln() - читает строку с консоли
out(var1) – вывод stdout. В серверном режиме запись в лог.
ESExecProc(var1,var2) – var1 исполняемая команда, var2 параметры
ESExecProcE(var1,var2,var3) – var1 исполняемая команда, var2 окружение, var3 входные данные stdin. Timeout 150 секунд.

Изображение 
ESImageCompress(var1,var2,var3,var4,var5,var6,var7) – возвращает преобразованное изображение. Var1 – изображение для модификации, var2 — качество от 0 .. 100, var3 — желаемая ширина рисунка в пикселях, var4 — желаемая высота рисунка в пикселях, var5 — тип изображения, может быть png, или любое другое значение равно jpeg, var6 – надпись на изображение, если пустая строка, то отсутствует, var7 – цвет надписи в шестнадцатеричном формате
ESImageRotate(var1,var2,var3) – поворачивает изображение на 90,180,270 градусов. Var1 — изображение для модификации, var2 — 90,180,270, любое другое значение это 0, var3 — тип изображение 'png', любое другое значение jpeg.

Интернет
ESBase64Encode(var1) – возвращает закодированное значение var1 в Base64
ESBase64Decode(var1) – возвращает декодированное значение var1 из Base64
ESUrld(var1) — возвращает декодированный url запрос

Строки и шаблоны
ESUpperCase(var1) – возвращает строку var1 в верхнем регистре
ESLowerCase(var1) — возвращает строку var1 в нижнем регистре
ESStringReplace(var1,var2,var3) – возвращает var3 со всеми var1 замененными var2
ESStringReplace2(var1,var2,var3) – возвращает var3 со всеми var1 замененными var2
ESRegExpReplace(var1,var2,var3) – возвращает var3 со всеми var1(регулярное выражение) замененными var2
ESLen(var1) — возвращает длину данных в переменной var1
ESPos(var1,var2) — возвращает номер индекса с которой начинается var1 в var2. Поиск начинается сначала строки.
ESPosEx(var1,var2,var3) — возвращает номер индекса с которой начинается var1 в var2. Поиск начинается с индекса var3 строки.
ESCopy(var1,var2,var3) – возвращает часть var1, начиная с индекса var2 до индекса var3.

Дата и время
ESDate() - возвращает текущую дату установленную в ОС в цифровом формате дд.мм.гггг 
ESCompareDate(var1,var2) — var1,var2 даты для сравнения в цифровом формате дд.мм.гггг возвращает значение <0, если var2>var1, 0 var1=var2, >0 var1>var2
ESCompareTime(var1,var2) - var1,var2 время для сравнения в цифровом формате дд.мм.гггг чч:мм:сс дата игнорируется при сравнении, возвращает значение <0, если var2>var1, 0 var1=var2, >0 var1>var2
ESMillisecondsDate(var1) — возвращает количество миллисекунд прошедших с 01.01.1970 до var1 в формате дд.мм.гггг чч:мм:сс
ESNow() - возвращает текущую дату и время ос в формате дд.мм.гггг чч:мм:сс
ESMilliseconds() - возвращает количество миллисекунд прошедших с 01.01.1970 до текущей даты и времени в ос. 
ESMillisecondsUTC() -  возвращает количество миллисекунд прошедших с 01.01.1970 до текущей даты и времени в ос в UTC
ESTime() - возвращает текущее время ос в формате чч:мм:сс 
Esrfcdt() - возвращает текущую дату и время в rfc822

Файлы
ESFileList(var1, var2) – возвращает строку c полным путем файлов разделенными пробелами в директории var1, var2 – может быть пустым, тогда поиск файлов осуществляется в текущей директории или 'all', тогда поиск файлов будет происходить и в под директориях.  
ESGzip(var1) – возвращает сжатый var1
ESGunzip(var1) – возвращает разархивированный var1
ESLoadFile(var1) — возвращает файл по пути var1. Var1 – адрес файла 
ESLoadFileStream(var1) — возвращает файл по пути var1. Var1 – адрес файла 
ESFileLoad(var1)  — возвращает файл по пути var1. Var1 – адрес файла 
ESSaveFile(var1,var2) — сохранить var2 в файл var1

База данных FireBird
ESDbInit(var1) - возвращает 0 или -1 в случае ошибки. Var1 – строка подключения к базе данных с параметрами разделенными; hostname, dbname,dbuser,dbpass,locale
ESExecSql(var1,var2,var3) – возвращает количество строк полученное при выполнение запроса select или update returning, 0 или -1 в случае ошибки. Var1 – имя массива куда будут записаны результаты выполнения запроса select или update returning, может быть пустым, если обычный update или delete, массив состоит из именованных массивов, равный количеству полученных строк, именнованный массив содержит название коллонки и значение [{col1=val1;col2=val2;col3=val3; .. coln=valn;};{col1=val1;col2=val2;col3=val3; .. coln=valn;}; .. {col1=val1;col2=val2;col3=val3; .. coln=valn;};]; var2 – запрос sql, обязательно для заполнения; var3 – заполняется в случаях параметризованного запроса Update или Insert для заполнения блоб поля, параметр поддерживается только один. 
ESDbCreate(var1) – возвращает 0 или -1 в случае ошибки. Var1 – параметры для создания базы данных в виде списка dbname,dbuser,dbpass,locale,page  
ESDbClose() - закрытие подключения к базе данных.

Почта
ESDnsMx(var1,var2) – возвращает список mx серверов отсортированных по приоритету. Var1 – dns сервер; var2 – доменное имя почтового сервера

Сеть
ESConnClose() - закрывает соединение установленное ESConn, ESConnSSL, возвращает -1 в случае ошибки. 
ESConnRecv(var1) — возвращает строку полученную от сервера. Var1 - timeout
ESConnSend(var1) – отправка строки или любых двоичных данных, возвращает -1 в случае ошибки. Var1 – данные для отправки.
ESConn(var1,var2,var3) — подключение к серверу, возвращает -1 в случае ошибки. Var1 – ip куда подключаться var2 - порт var3 — таймаут. 
ESConnSSL(var1,var2,var3)  — подключение к серверу с использованием шифрования, возвращает -1 в случае ошибки. Var1 – ip куда подключаться var2 - порт var3 — таймаут.  
ESConnRecvData(var1,var2) — возвращает данные полученные от сервера. Var1 – размер получаемых данных, если 0 , то все, что есть в буфере; var2 - таймаут

